[tool.poetry]
name = "moduslam"
version = "0.1.0"
description = "Modular framework for simultaneous localization and mapping."
authors = ["Mark Griguletskii <fatrybl@yandex.ru>"]
readme = "README.md"

[tool.poetry.dependencies]
python = "^3.11"
#======================
# Now open3D is installed with pip, cause poetry has conflicts with legacy open3D code.
#
# TODO: Remove these when Open3D releases >0.18.0 with ML dependencies properly set that is
#   compatible with Poetry. https://github.com/isl-org/Open3D/issues/5747
#   https://github.com/isl-org/Open3D-ML/blob/main/requirements.txt
hydra-core = "*"
pillow = "*"
plum-dispatch = "*"
numpy = "^1.26.4"
psutil = "*"
kiss-icp = "*"
graphviz = "*"
colorlog = "*"
addict = "*"
tqdm = "*"
pyquaternion = "*"
matplotlib = "*"
pandas = "*"
pyyaml = "*"
scikit-learn = "*"
opencv-python = "*"
transformers = "*"
torch = "*"

[tool.poetry.group.dev.dependencies]
pytest = "*"
mypy = "*"
black = "*"
flake8 = "*"
sphinx = "*"
pre-commit = "*"
types-setuptools = "*"
sphinx-rtd-theme = "*"
docformatter = "*"
isort = "*"
doc8 = "*"
types-pillow = "*"
types-psutil = "^6.1.0.20241102"
polyscope = "^2.3.0"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"


[tool.black]
line-length = 100

[tool.isort]
profile = "black"

[tool.docformatter]
black = true
in-place = true
style = "google"
recursive = true

[tool.doc8]
max-line-length = 100
paths = ["docs"]
ignore = ["D001"]

[tool.pytest.ini_options]
addopts = ["--import-mode=importlib"]

[tool.mypy]
python_version = "3.11"
check_untyped_defs = true
follow_imports = "normal"
ignore_missing_imports = true
