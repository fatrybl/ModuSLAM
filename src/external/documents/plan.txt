Алгоритм автоматического создания графа.

1) Получаем измерения от датчиков и обрабатываем их в соответсвующих хендлерах.

2) Копим измерения из хендлеров какое-то время для формирования кандидата.

3) Разделяем измерения на дискретные и преинтегрируемые.

4) Если в дискретных измерениях есть одометрия, начало которой в рамках окна саб-графа, дробим его на 2 вершины.

5) Получаем список дискретных вершин.

6) "скрещиваем" всеми возможными способами вершины и получаем коллекцию вариантов С

7) Для каждой Сi из C формируем еще одну коллекцию вариантов, соединяя преинтегрир. измерениями.

8) Фильтруем варианты с учетом их осуществимости, получаем общее множество всех вариантов, которые будем проверять.

9) Для каждого варианта:

    9.1) Добавляем преинт. измерения в соответствующий кластер в виде измерения одометрии.
    9.2) Для каждого кластера Kj из Ci:
            для каждого измерения Zm из Kj:
              9.2.1) создаем необходим. вершины, кладем в Б/Д.
              9.2.2) ищем возможности стыковки с графом G путем поиска подходящего кластера и вершины внутри него.
                        Если нет - создаём кластер, кладем в него вершину, кладём в Б/Д.
              9.2.3) создаем ребра.

    9.3) для каждого Kj из Ci:
        9.3.1) объединяем вершины одного типа.
        9.3.2) меняем ребра с учетом объединения.

    9.4) Оцениваем связность кандидата с графом G, отбрасываем несвязанные варианты.
    9.5) Оцениваем по остальным критериям.
    9.6) Решаем каждый вариант и смотрим Chi2.

 10) Выбираем лучший вариант.

 11) Добавляем кандидата в граф, формируя новый связный граф G, решаем, обновляем вершины.

 12) Удаляем из хранилища измерений те, что уже использованы. Осталные оставляем.
